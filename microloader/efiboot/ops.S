.section .test, "ax"
.global arch_disable_ints
.type arch_disable_ints, #function
arch_disable_ints:
    mrs     r0, cpsr
    orr     r0, r0, #(1<<7)
    msr     cpsr_c, r0
    bx      lr
.size arch_disable_ints, . - arch_disable_ints

/* uint32_t arm_read_cr1(void) */
.global arm_read_cr1
.type  arm_read_cr1, #function
arm_read_cr1:
    mrc             p15, 0, r0, c1, c0, 0
    bx              lr
.size arm_read_cr1, . - arm_read_cr1

.global arm_write_cr1
.type arm_write_cr1, #function
arm_write_cr1:
    mcr             p15, 0, r0, c1, c0, 0
    bx              lr
.size arm_write_cr1, . - arm_write_cr1
